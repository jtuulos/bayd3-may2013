<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>D3 + Backbone = Reusable Charts</title>

    <meta name="description" content="Building reusable charts with D3.js and Backbone.js">
    <meta name="author" content="Jyri Tuulos">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/sky.css" id="theme">
    <link rel="stylesheet" href="css/slides.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/idea.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

    <script src="//cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
</head>

<body>

<div class="reveal"><div class="slides">

    <section>
        <h2>D3 + Backbone<br>=<br>Reusable Charts</h2><br>
        <p><a href="http://twitter.com/jtuulos" target="_blank">@jtuulos</a></p>
        <p class="small">May 9, 2013</p>
    </section>

    <section>
        <h2>Why reusable charts?</h2>
        <p><i class="icon-eye-close"></i> Abstraction</p>
        <p><i class="icon-link"></i> Modularity</p>
        <p><i class="icon-wrench"></i> Maintenance</p>
        <p><i class="icon-github"></i> Collaboration</p>

        <aside class="notes">
            <ul>
                <li>abstract away the D3</li>
                <li>D3 is hard for JavaScript beginners</li>
                <li>code structure is a must in large apps</li>
                <li>separating logic from data schema</li>
                <li>open sourcing parts of apps (e.g. Bootstrap)</li>
            </ul>
        </aside>
    </section>

    <section>
        <h2>Frameworks &amp; D3</h2>
        <div class="col2">
            <h4><span class="legend-server">Server-side</span> framework + D3</h4>
            <div class="mock-div">
                <div class="mock-div">Header</div>
                <div class="mock-div">
                    <p>List</p>
                    <div class="mock-div">
                        <p>Item</p>
                        <div class="mock-div svg">
                            <div class="mock-div client-side fragment" data-fragment-id="1">
                                <strong><i class="icon-bar-chart"></i> D3 chart</strong>
                            </div>
                        </div>
                    </div>
                    <div class="mock-div">
                        <p>Item</p>
                        <div class="mock-div svg">
                            <div class="mock-div client-side fragment" data-fragment-id="1">
                                <strong><i class="icon-bar-chart"></i> D3 chart</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col2">
            <h4><span class="legend-client">Client-side</span> framework + D3</h4>
            <div class="mock-div">
                <div class="mock-div">Header</div>
                <div class="mock-div client-side fragment" data-fragment-id="2">
                    <p>ListView</p>
                    <div class="mock-div client-side fragment" data-fragment-id="3">
                        <p>ItemView</p>
                        <div class="mock-div client-side fragment" data-fragment-id="4">
                            <strong><i class="icon-bar-chart"></i> D3 chart</strong>
                        </div>
                    </div>
                    <div class="mock-div client-side fragment" data-fragment-id="3">
                        <p>ItemView</p>
                        <div class="mock-div client-side fragment" data-fragment-id="4">
                            <strong><i class="icon-bar-chart"></i> D3 chart</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <aside class="notes">
            <ul>
                <li>client-side: svg elements don't exist initially</li>
                <li>there's already a hierarchy of views, why not have D3 views?</li>
                <li>rendering optimizations, real-time charts</li>
            </ul>
        </aside>
    </section>

    <section>
        <h2><img src="img/backbone.png" alt="Backbone.js" class="logo" width="450"></h2>
        <p>Helpful methods to <strong>manipulate and query your data</strong></p>
        <p>"Backbone is a library, not a framework"</p>
        <p><strong>Plays well with others</strong></p>
        <p class="small">(from the <a href="http://backbonejs.org/#FAQ-why-backbone" target="_blank">official FAQ</a>)</p>

        <aside class="notes">
            <ul>
                <li>Who here has used Backbone?</li>
                <li>does not impose HTML markup, template engine or UI widgets</li>
                <li>frameworks built on top of Backbone: <a href="http://marionettejs.com/">Marionette</a>, <a href="http://chaplinjs.org/">Chaplin</a></li>
                <li>build your own framework -> YMMV</li>
            </ul>
        </aside>
    </section>

    <section>
        <section>
            <h2>Goal: Spreadsheet charts</h2>
            <img src="img/spreadsheet_chart.png">
        </section>
        <section>
            <h2>Goal: JSON + Backbone + D3</h2>
            <div class="col2">
                <pre><code data-trim>
var json = [
  {"letter": "A", "frequency": 0.08167},
  {"letter": "B", "frequency": 0.01492},
  {"letter": "C", "frequency": 0.02780},
  {"letter": "D", "frequency": 0.04253},
  {"letter": "E", "frequency": 0.12702},
  {"letter": "F", "frequency": 0.02288},
  {"letter": "G", "frequency": 0.02022},
  {"letter": "H", "frequency": 0.06094},
  {"letter": "I", "frequency": 0.06973},
  {"letter": "J", "frequency": 0.00153},
  {"letter": "K", "frequency": 0.00747},
  {"letter": "L", "frequency": 0.04025},
  ...
];
                </code></pre>
            </div>
            <div class="col2">
                <pre><code data-trim>
// Custom view (inherits Backbone.View)
var chart = new BarChart({

  // Basic Backbone view options
  el: $("#chart-container"),
  collection: new Backbone.Collection(json),

  // Custom chart options
  xAttr: "letter",
  yAttr: "frequency"

});

// D3 code abstracted away
chart.render();
                </code></pre>
            </div>
        </section>
    </section>

</div></div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    width: 1140,
    height: 620,

    theme: 'sky',
    transition: 'linear',

    dependencies: [
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
        { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]
});

</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-40746204-1', 'github.io');
  ga('send', 'pageview');
</script>

</body>
</html>
